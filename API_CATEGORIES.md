# üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –¶–µ–Ω—ã

## üÜï –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç", "–†—É—á–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç", "–ò–∑–º–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π").

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –∫–æ–º–ø–∞–Ω–∏—è–º (–º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å)
- –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω–∏ –≤ —Ä–∞–º–∫–∞—Ö –∫–æ–º–ø–∞–Ω–∏–∏
- –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è (categoryId = null)
- –ü–æ–¥—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### –¶–µ–Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –•—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ Decimal –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏
- –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ä—É–±–ª—è—Ö —Å –¥–≤—É–º—è –∑–Ω–∞–∫–∞–º–∏ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π

---

## üîå API Endpoints –¥–ª—è –ö–∞—Ç–µ–≥–æ—Ä–∏–π

### 1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

**GET** `/api/categories`

**–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** `TOOL_READ`

**–û—Ç–≤–µ—Ç:**
```json
{
  "categories": [
    {
      "id": "cm3bqk...",
      "name": "–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç",
      "companyId": "cm3bqj...",
      "createdAt": "2024-11-06T12:00:00.000Z",
      "_count": {
        "tools": 15
      }
    },
    {
      "id": "cm3bql...",
      "name": "–†—É—á–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç",
      "companyId": "cm3bqj...",
      "createdAt": "2024-11-06T12:05:00.000Z",
      "_count": {
        "tools": 8
      }
    }
  ]
}
```

**cURL –ø—Ä–∏–º–µ—Ä:**
```bash
curl -X GET http://localhost:5000/api/categories \
  -H "Content-Type: application/json" \
  -b cookies.txt
```

---

### 2. –°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é

**POST** `/api/categories`

**–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** `TOOL_CREATE`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç"
}
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- `name` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ, –Ω–µ –ø—É—Å—Ç–æ–µ

**–û—Ç–≤–µ—Ç:**
```json
{
  "category": {
    "id": "cm3bqk...",
    "name": "–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç",
    "companyId": "cm3bqj...",
    "createdAt": "2024-11-06T12:00:00.000Z"
  }
}
```

**–û—à–∏–±–∫–∏:**
- `400` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `400` - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**cURL –ø—Ä–∏–º–µ—Ä:**
```bash
curl -X POST http://localhost:5000/api/categories \
  -H "Content-Type: application/json" \
  -b cookies.txt \
  -d '{
    "name": "–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç"
  }'
```

---

### 3. –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –ø–æ ID

**GET** `/api/categories/:id`

**–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** `TOOL_READ`

**–û—Ç–≤–µ—Ç:**
```json
{
  "category": {
    "id": "cm3bqk...",
    "name": "–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç",
    "companyId": "cm3bqj...",
    "createdAt": "2024-11-06T12:00:00.000Z",
    "_count": {
      "tools": 15
    }
  }
}
```

**–û—à–∏–±–∫–∏:**
- `404` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- `404` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏

**cURL –ø—Ä–∏–º–µ—Ä:**
```bash
curl -X GET http://localhost:5000/api/categories/cm3bqk... \
  -H "Content-Type: application/json" \
  -b cookies.txt
```

---

### 4. –û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é

**PUT** `/api/categories/:id`

**–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** `TOOL_UPDATE`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "category": {
    "id": "cm3bqk...",
    "name": "–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)",
    "companyId": "cm3bqj...",
    "createdAt": "2024-11-06T12:00:00.000Z"
  }
}
```

**–û—à–∏–±–∫–∏:**
- `404` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- `400` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `400` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏

**cURL –ø—Ä–∏–º–µ—Ä:**
```bash
curl -X PUT http://localhost:5000/api/categories/cm3bqk... \
  -H "Content-Type: application/json" \
  -b cookies.txt \
  -d '{
    "name": "–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)"
  }'
```

---

### 5. –£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é

**DELETE** `/api/categories/:id`

**–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** `TOOL_DELETE`

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è —É–¥–∞–ª—è–µ—Ç—Å—è
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ **–ù–ï –£–î–ê–õ–Ø–Æ–¢–°–Ø**
- –£ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ `categoryId` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `null`

**–û—Ç–≤–µ—Ç:**
```json
{
  "message": "–ö–∞—Ç–µ–≥–æ—Ä–∏—è —É–¥–∞–ª–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ."
}
```

**–û—à–∏–±–∫–∏:**
- `404` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- `400` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏

**cURL –ø—Ä–∏–º–µ—Ä:**
```bash
curl -X DELETE http://localhost:5000/api/categories/cm3bqk... \
  -H "Content-Type: application/json" \
  -b cookies.txt
```

---

## üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ API –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (POST /api/tools)

**–ù–æ–≤—ã–µ –ø–æ–ª—è –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "–î—Ä–µ–ª—å Makita",
  "serialNumber": "SN-12345",
  "description": "...",
  "imageUrl": "...",
  "warehouseId": "...",
  "price": 15000.50,           // ‚Üê –ù–û–í–û–ï (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ)
  "categoryId": "cm3bqk..."    // ‚Üê –ù–û–í–û–ï (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ)
}
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- `price` - —á–∏—Å–ª–æ (Decimal), –º–æ–∂–µ—Ç –±—ã—Ç—å null
- `categoryId` - —Å—Ç—Ä–æ–∫–∞ (ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏), –¥–æ–ª–∂–Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å –∫–æ–º–ø–∞–Ω–∏–∏

---

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (GET /api/tools)

**–ù–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:**
```
GET /api/tools?categoryId=cm3bqk...
```

**–û—Ç–≤–µ—Ç —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é:**
```json
{
  "tools": [
    {
      "id": "cm3bqm...",
      "name": "–î—Ä–µ–ª—å Makita",
      "serialNumber": "SN-12345",
      "price": "15000.50",              // ‚Üê –ù–û–í–û–ï (—Å—Ç—Ä–æ–∫–∞ Decimal)
      "category": {                      // ‚Üê –ù–û–í–û–ï
        "id": "cm3bqk...",
        "name": "–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç"
      },
      "status": "AVAILABLE",
      "currentUser": null,
      "warehouse": { "id": "...", "name": "–û—Å–Ω–æ–≤–Ω–æ–π" }
    }
  ]
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `price` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞ (Decimal), –ø—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ –≤ —á–∏—Å–ª–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ:
```javascript
const priceNumber = parseFloat(tool.price);
```

---

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ ID (GET /api/tools/:id)

**–û—Ç–≤–µ—Ç —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç:**
```json
{
  "tool": {
    "id": "cm3bqm...",
    "name": "–î—Ä–µ–ª—å Makita",
    "price": "15000.50",              // ‚Üê –ù–û–í–û–ï
    "category": {                      // ‚Üê –ù–û–í–û–ï
      "id": "cm3bqk...",
      "name": "–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç"
    },
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
    "history": [ /* ... */ ]
  }
}
```

---

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (PUT /api/tools/:id)

**–ù–æ–≤—ã–µ –ø–æ–ª—è –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "–î—Ä–µ–ª—å Makita (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)",
  "price": 16000.00,           // ‚Üê –ù–û–í–û–ï
  "categoryId": "cm3bql..."    // ‚Üê –ù–û–í–û–ï (–∏–ª–∏ null —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é)
}
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è –Ω–æ–≤–æ–π –∫–æ–º–ø–∞–Ω–∏–∏

```bash
# –°–æ–∑–¥–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
curl -X POST http://localhost:5000/api/categories \
  -H "Content-Type: application/json" \
  -b cookies.txt \
  -d '{"name": "–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç"}'

curl -X POST http://localhost:5000/api/categories \
  -H "Content-Type: application/json" \
  -b cookies.txt \
  -d '{"name": "–†—É—á–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç"}'

curl -X POST http://localhost:5000/api/categories \
  -H "Content-Type: application/json" \
  -b cookies.txt \
  -d '{"name": "–ò–∑–º–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π"}'
```

### –ü—Ä–∏–º–µ—Ä 2: –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Å —Ü–µ–Ω–æ–π –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π

```bash
# –ü–æ–ª—É—á–∞–µ–º ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç"
CATEGORY_ID=$(curl -s http://localhost:5000/api/categories -b cookies.txt | jq -r '.categories[] | select(.name=="–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç") | .id')

# –ü–æ–ª—É—á–∞–µ–º ID —Å–∫–ª–∞–¥–∞
WAREHOUSE_ID=$(curl -s http://localhost:5000/api/warehouses -b cookies.txt | jq -r '.warehouses[0].id')

# –°–æ–∑–¥–∞–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
curl -X POST http://localhost:5000/api/tools \
  -H "Content-Type: application/json" \
  -b cookies.txt \
  -d "{
    \"name\": \"–î—Ä–µ–ª—å Makita XF-200\",
    \"serialNumber\": \"SN-12345\",
    \"description\": \"–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä–Ω–∞—è –¥—Ä–µ–ª—å-—à—É—Ä—É–ø–æ–≤–µ—Ä—Ç\",
    \"price\": 15000.50,
    \"categoryId\": \"$CATEGORY_ID\",
    \"warehouseId\": \"$WAREHOUSE_ID\"
  }"
```

### –ü—Ä–∏–º–µ—Ä 3: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

```bash
# –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —ç–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
curl -X GET "http://localhost:5000/api/tools?categoryId=$CATEGORY_ID" \
  -H "Content-Type: application/json" \
  -b cookies.txt
```

### –ü—Ä–∏–º–µ—Ä 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

```bash
TOOL_ID="cm3bqm..."

curl -X PUT "http://localhost:5000/api/tools/$TOOL_ID" \
  -H "Content-Type: application/json" \
  -b cookies.txt \
  -d '{
    "price": 14500.00
  }'
```

---

## üîê –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

| –û–ø–µ—Ä–∞—Ü–∏—è | –¢—Ä–µ–±—É–µ–º–æ–µ –ø—Ä–∞–≤–æ |
|----------|----------------|
| –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π | `TOOL_READ` |
| –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | `TOOL_CREATE` |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | `TOOL_UPDATE` |
| –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | `TOOL_DELETE` |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–µ –∂–µ –ø—Ä–∞–≤–∞, —á—Ç–æ –∏ –¥–ª—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Postman

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é "ToolManager Categories"
2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `baseUrl` = `http://localhost:5000`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ cookies

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

**1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ cookie):**
```
POST {{baseUrl}}/api/auth/login
Body: {
  "email": "boss@example.com",
  "password": "password123"
}
```

**2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:**
```
GET {{baseUrl}}/api/categories
```

**3. –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
```
POST {{baseUrl}}/api/categories
Body: {
  "name": "–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç"
}
```

**4. –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Å —Ü–µ–Ω–æ–π:**
```
POST {{baseUrl}}/api/tools
Body: {
  "name": "–î—Ä–µ–ª—å",
  "serialNumber": "SN-001",
  "price": 15000,
  "categoryId": "{{categoryId}}"
}
```

---

## üêõ –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### –û—à–∏–±–∫–∞: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–≤–µ—Ä–Ω—ã–π ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –¥—Ä—É–≥–æ–π –∫–æ–º–ø–∞–Ω–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
curl http://localhost:5000/api/categories -b cookies.txt
```

### –û—à–∏–±–∫–∞: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"

**–ü—Ä–∏—á–∏–Ω–∞:** –í –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏ —É–∂–µ –µ—Å—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–µ –∏–º—è –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é

### –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã –Ω–∞ frontend

**–ü—Ä–æ–±–ª–µ–º–∞:** `tool.price.toFixed(2)` –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É

**–ü—Ä–∏—á–∏–Ω–∞:** price —ç—Ç–æ Decimal –æ–±—ä–µ–∫—Ç, –Ω—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ —á–∏—Å–ª–æ

**–†–µ—à–µ–Ω–∏–µ:**
```javascript
// –ü—Ä–∞–≤–∏–ª—å–Ω–æ
const price = parseFloat(tool.price).toFixed(2);

// –ò–ª–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π
const price = tool.price ? parseFloat(tool.price).toFixed(2) : '0.00';
```

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

```javascript
// –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø—Ä–∏–º–µ—Ä
const categoryStats = categories.map(cat => ({
  name: cat.name,
  count: cat._count.tools
}));
```

### SQL –∑–∞–ø—Ä–æ—Å –¥–ª—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏

```sql
-- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –∏—Ö –æ–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
SELECT 
  c.name as category_name,
  COUNT(t.id) as tools_count,
  SUM(t.price) as total_value
FROM "Category" c
LEFT JOIN "Tool" t ON t."categoryId" = c.id
WHERE c."companyId" = 'YOUR_COMPANY_ID'
GROUP BY c.id, c.name
ORDER BY total_value DESC;
```

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –°–∫—Ä–∏–ø—Ç –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π

```javascript
// Node.js —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
const tools = await prisma.tool.findMany({
  where: { companyId: 'YOUR_COMPANY_ID' }
});

for (const tool of tools) {
  let categoryId = null;
  
  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
  if (tool.name.includes('–¥—Ä–µ–ª—å') || tool.name.includes('–ø–µ—Ä—Ñ–æ—Ä–∞—Ç–æ—Ä')) {
    categoryId = electricCategoryId;
  } else if (tool.name.includes('–æ—Ç–≤–µ—Ä—Ç–∫–∞') || tool.name.includes('–º–æ–ª–æ—Ç–æ–∫')) {
    categoryId = manualCategoryId;
  }
  
  if (categoryId) {
    await prisma.tool.update({
      where: { id: tool.id },
      data: { categoryId }
    });
  }
}
```

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 06.11.2024  
**–í–µ—Ä—Å–∏—è API:** 1.1  
**–ê–≤—Ç–æ—Ä:** ToolManager Development Team
