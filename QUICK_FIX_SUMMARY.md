# üîß –ë—ã—Å—Ç—Ä–∞—è —Å–≤–æ–¥–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –ü–æ—Ä—Ç –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ 5001 –≤–µ–∑–¥–µ
- ‚ùå –ë—ã–ª–æ: —Ä–∞–∑–Ω—ã–µ –ø–æ—Ä—Ç—ã (5000/5001 –≤–ø–µ—Ä–µ–º–µ—à–∫—É)
- ‚úÖ –°—Ç–∞–ª–æ: **5001 –≤–µ–∑–¥–µ**

**–ò–∑–º–µ–Ω–µ–Ω–æ –≤:**
- `backend/.env` ‚Üí `PORT=5001`
- `backend/src/server.js` ‚Üí `const PORT = process.env.PORT || 5001`
- `mobile/.env` ‚Üí `http://192.168.0.128:5001/api`
- `mobile/app.json` ‚Üí `"apiUrl": "http://192.168.0.128:5001/api"`
- `mobile/services/api.ts` ‚Üí `'http://192.168.0.128:5001/api'`
- –í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### 2. Backend —Å–ª—É—à–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
```javascript
app.listen(PORT, '0.0.0.0', () => { ... });
```
–¢–µ–ø–µ—Ä—å backend –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–∞ localhost, –Ω–æ –∏ –ø–æ IP.

### 3. CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
```javascript
// –†–∞–∑—Ä–µ—à–µ–Ω—ã –∑–∞–ø—Ä–æ—Å—ã –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏
if (origin && origin.startsWith('http://192.168.')) {
  callback(null, true);
}
```

–¢–∞–∫–∂–µ –≤ —Å–ø–∏—Å–∫–µ allowed origins:
- `http://localhost:5173` (web)
- `http://localhost:8081` (mobile dev server)
- `http://192.168.0.128:8081` (mobile –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ)

## üöÄ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å backend
```bash
cd backend
npm run dev
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:
```
üöÄ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 5001 –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –≤—Å–µ—Ö —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
üì± –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: http://192.168.0.128:5001/api
üíª –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: http://localhost:5001/api
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
curl http://localhost:5001/api/health

# –ü–æ IP (–µ—Å–ª–∏ —ç—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø—Ä–æ–±–ª–µ–º–∞ –≤ firewall)
curl http://192.168.0.128:5001/api/health
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å mobile
```bash
cd mobile
pnpm start
```

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: `curl http://192.168.0.128:5001/api/health` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç 5001

**–†–µ—à–µ–Ω–∏–µ:**

#### Windows (PowerShell –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞):
```powershell
New-NetFirewallRule -DisplayName "ToolManager Backend" -Direction Inbound -LocalPort 5001 -Protocol TCP -Action Allow
```

#### Linux:
```bash
sudo ufw allow 5001/tcp
```

#### macOS:
System Preferences ‚Üí Security & Privacy ‚Üí Firewall ‚Üí Firewall Options ‚Üí –î–æ–±–∞–≤–∏—Ç—å Node.js

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∞ "No 'Access-Control-Allow-Origin' header"

**–≠—Ç–æ —É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ!** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —Å –Ω–æ–≤—ã–º –∫–æ–¥–æ–º.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ preflight –∑–∞–ø—Ä–æ—Å:
```bash
curl -X OPTIONS http://192.168.0.128:5001/api/auth/login \
  -H "Origin: http://localhost:8081" \
  -H "Access-Control-Request-Method: POST" \
  -v
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤ –æ—Ç–≤–µ—Ç–µ:
```
Access-Control-Allow-Origin: http://localhost:8081
Access-Control-Allow-Credentials: true
```

## üìù –§–∞–π–ª—ã –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏

- `TEST_INSTRUCTIONS.md` - –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- `MOBILE_SETUP.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- `CHANGES_SUMMARY.md` - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üéØ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

- [ ] Backend .env —Å–æ–¥–µ—Ä–∂–∏—Ç `PORT=5001`
- [ ] Mobile .env —Å–æ–¥–µ—Ä–∂–∏—Ç `EXPO_PUBLIC_API_URL=http://192.168.0.128:5001/api`
- [ ] Mobile app.json —Å–æ–¥–µ—Ä–∂–∏—Ç `"apiUrl": "http://192.168.0.128:5001/api"`
- [ ] Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- [ ] Firewall —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –ø–æ—Ä—Ç 5001
- [ ] –¢–µ–ª–µ—Ñ–æ–Ω –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä –≤ –æ–¥–Ω–æ–π Wi-Fi —Å–µ—Ç–∏

–ï—Å–ª–∏ –≤—Å—ë –æ—Ç–º–µ—á–µ–Ω–æ - –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å! üöÄ
