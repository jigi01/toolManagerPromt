# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –†–∞–±–æ—Ç–∞ —Å Expo Web –∏ Mobile

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. IP –∞–¥—Ä–µ—Å –æ–±–Ω–æ–≤–ª–µ–Ω
- **–°—Ç–∞—Ä—ã–π IP**: 192.168.0.128
- **–ù–æ–≤—ã–π IP**: 192.168.0.191

### 2. –õ–æ–≥–∏–∫–∞ –¥–ª—è Web vs Mobile
–¢–µ–ø–µ—Ä—å `mobile/services/api.ts` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—É:

```typescript
// Web (localhost:8081) ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç http://localhost:5001/api
// Mobile (iOS/Android) ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç http://192.168.0.191:5001/api
const getApiUrl = () => {
  if (Platform.OS === 'web') {
    return 'http://localhost:5001/api';
  }
  return 'http://192.168.0.191:5001/api';
};
```

### 3. Credentials –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
```typescript
// Web ‚Üí withCredentials: true (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç cookies)
// Mobile ‚Üí withCredentials: false (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç Bearer —Ç–æ–∫–µ–Ω—ã)
withCredentials: Platform.OS === 'web'
```

## –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç

‚úÖ **Expo Web (localhost:8081)** ‚Üí –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ `localhost:5001`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç cookies
‚úÖ **Expo Go –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ** ‚Üí –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ `192.168.0.191:5001`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Bearer —Ç–æ–∫–µ–Ω—ã
‚úÖ **CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω** –¥–ª—è –æ–±–æ–∏—Ö —Å–ª—É—á–∞–µ–≤

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend
```bash
cd backend
npm run dev
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ mobile —Å –æ—á–∏—Å—Ç–∫–æ–π –∫—ç—à–∞
```bash
cd mobile
pnpm start -c
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Web
–ù–∞–∂–º–∏—Ç–µ `w` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ Expo –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ `http://localhost:8081`

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è - –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å! üéâ

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Mobile
Scan QR –∫–æ–¥ –≤ Expo Go –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ.

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è - –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å! üéâ

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Backend CORS —Ä–∞–∑—Ä–µ—à–∞–µ—Ç:
- `http://localhost:5173` (Web frontend)
- `http://localhost:8081` (Expo Web)
- `http://192.168.0.191:8081` (Expo –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ)
- –õ—é–±—ã–µ `http://192.168.*` (–ª–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å)

### Mobile API:
- **Platform.OS === 'web'**:
  - URL: `http://localhost:5001/api`
  - Credentials: true (cookies)
  
- **Platform.OS === 'ios' | 'android'**:
  - URL: `http://192.168.0.191:5001/api`
  - Credentials: false (Bearer —Ç–æ–∫–µ–Ω—ã)

## –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### Expo Web –Ω–µ –ª–æ–≥–∏–Ω–∏—Ç—Å—è
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 5001
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ DevTools ‚Üí Network:
   - Request URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `http://localhost:5001/api/auth/login`
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å CORS –æ—à–∏–±–æ–∫
3. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à: `pnpm start -c`

### Mobile –Ω–µ –ª–æ–≥–∏–Ω–∏—Ç—Å—è
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –ü–ö –≤ –æ–¥–Ω–æ–π Wi-Fi —Å–µ—Ç–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:
   ```bash
   # Windows
   ipconfig
   
   # macOS/Linux
   ifconfig | grep "inet "
   ```
   –ï—Å–ª–∏ IP –∏–∑–º–µ–Ω–∏–ª—Å—è, –æ–±–Ω–æ–≤–∏—Ç–µ –≤ `mobile/.env` –∏ `mobile/app.json`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Expo: `pnpm start -c`

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –∫–æ–¥–µ

**mobile/services/api.ts**:
- ‚ûï –î–æ–±–∞–≤–ª–µ–Ω `Platform` –∏–∑ 'react-native'
- ‚ûï –§—É–Ω–∫—Ü–∏—è `getApiUrl()` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç URL –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- ‚ûï `withCredentials` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

**–í—Å–µ —Ñ–∞–π–ª—ã**:
- IP –æ–±–Ω–æ–≤–ª–µ–Ω —Å 192.168.0.128 –Ω–∞ 192.168.0.191

–ì–æ—Ç–æ–≤–æ! üöÄ
